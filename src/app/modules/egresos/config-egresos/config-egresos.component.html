<mat-card-actions
  fxLayout="row"
  fxLayoutAlign="end center"
  style="margin-right: 10px"
>
  <button
    mat-raised-button
    fxLayout="row"
    fxLayout.xs="column"
    fxLayoutAlign="center"
    fxFlex="22"
    (click)="onClickAdicionar()"
    color="primary"
    *ngIf="showListado"
  >
    <mat-icon>add_circle_outline</mat-icon>
    Adicion
  </button>
</mat-card-actions>

<!-- <mat-progress-bar mode="indeterminate" *ngIf="isWaiting"></mat-progress-bar> -->
<div class="container" *ngIf="showListado" style="overflow: hidden">
  <mat-grid-list cols="5" rowHeight="230px">
    <mat-grid-tile *ngFor="let egreso of egresos" style="overflow-x: hidden">
      <mat-card (click)="verDetalle(egreso)" class="dashboard-card">
        <mat-card-content class="dashboard-card-content">
          <mat-icon>attach_money</mat-icon>

          <h5 class="cssRow">{{ egreso.T17Factura }}</h5>
          <br />
          <div>{{ egreso.T17Proveedor }}</div>
          <div>{{ egreso.T17Fecha }}</div>
          <div>{{ egreso.T17Valor }}</div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<div class="container" *ngIf="!showListado" style="overflow: hidden">
  <mat-card-content class="window-dashboard-card-content contentprincipal">
    <mat-toolbar color="primary">
      <mat-icon matPrefix>account_balance</mat-icon>
      <label>Configuración de Egresos - [Adicionar - Actualizar]</label>
      <span class="example-spacer"></span>
      <button
        mat-icon-button
        class="example-icon"
        aria-label="Example icon-button with share icon"
        (click)="cancelar()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-toolbar>
    <mat-card-header>
      <mat-card-title> </mat-card-title>
    </mat-card-header>
    <mat-card class="cardcontent">
      <mat-card-content fxLayout="column" fxLayoutAlign="center">
        <div fxLayout="column" fxLayoutAlign="space-between " fxFlex="100">
          <form [formGroup]="egresoForm" autocomplete="off" novalidate>
            <mat-card class="cardcontent">
              <mat-card-title fxLayoutAlign="center">
                <label>Datos de Egresos</label>
              </mat-card-title>
              <mat-card-content fxLayout="column" fxLayoutAlign="center">
                <div *ngIf="false">
                  <mat-form-field>
                    <input
                      matInput
                      formControlName="_id"
                      id="_id"
                      placeholder="_"
                    />
                  </mat-form-field>
                </div>
                <div fxLayout="row" fxFlex fxLayoutAlign="space-between center">
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="proveedores"
                      id="proveedores"
                      placeholder="Proveedores"
                    />
                  </mat-form-field>
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="soporte"
                      id="soporte"
                      placeholder="Soporte"
                    />
                  </mat-form-field>
                </div>

                <div fxLayout="row" fxFlex fxLayoutAlign="space-between center">
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="numeroSoporte"
                      id="numeroSoporte"
                      placeholder="Número de soporte"
                    />
                  </mat-form-field>
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="fechaDocumento"
                      id="fechaDocumento"
                      placeholder="Fecha del documento"
                    />
                  </mat-form-field>
                </div>
                <div fxLayout="row" fxFlex fxLayoutAlign="space-between center">
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="tipo"
                      id="tipo"
                      placeholder="Tipo"
                    />
                  </mat-form-field>
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="valor"
                      id="valor"
                      placeholder="Valor"
                    />
                  </mat-form-field>
                </div>
                <div fxLayout="row" fxFlex fxLayoutAlign="space-between center">
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="descuento"
                      id="descuento"
                      placeholder="% Descuento"
                    />
                  </mat-form-field>
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="ica"
                      id="ica"
                      placeholder="ICA"
                    />
                  </mat-form-field>
                </div>
                <div fxLayout="row" fxFlex fxLayoutAlign="space-between center">
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="iva"
                      id="iva"
                      placeholder="IVA"
                    />
                  </mat-form-field>
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="total"
                      id="total"
                      placeholder="Total"
                    />
                  </mat-form-field>
                </div>
                <div fxLayout="row" fxFlex fxLayoutAlign="space-between center">
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="fechaPago"
                      id="fechaPago"
                      placeholder="Fecha de Pago"
                    />
                  </mat-form-field>
                  <mat-form-field fxFlex>
                    <mat-icon matPrefix>edit</mat-icon>
                    <input
                      matInput
                      formControlName="rf"
                      id="rf"
                      placeholder="RF"
                    />
                  </mat-form-field>
                </div>
                <mat-form-field fxFlex>
                  <mat-icon matPrefix>edit</mat-icon>
                  <input
                    matInput
                    formControlName="observaciones"
                    id="observaciones"
                    placeholder="Observaciones"
                  />
                </mat-form-field>
              </mat-card-content>
            </mat-card>
          </form>
        </div>
      </mat-card-content>
      <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
        <button
          mat-raised-button
          color="primary"
          fxLayout="row"
          fxLayout.xs="column"
          fxLayoutAlign="center"
          (click)="guardar()"
          fxFlex
        >
          <mat-icon>add_task</mat-icon>
          {{ isUpdating ? "Actualizar" : "Adicionar" }}
        </button>
        <button
          mat-raised-button
          (click)="eliminar()"
          fxLayout="row"
          fxLayout.xs="column"
          fxLayoutAlign="center"
          fxFlex
        >
          <mat-icon>delete</mat-icon>
          Eliminar
        </button>
        <button
          mat-raised-button
          color="warn"
          (click)="cancelar()"
          fxLayout="row"
          fxLayout.xs="column"
          fxLayoutAlign="center"
          fxFlex
        >
          <mat-icon>cancel</mat-icon>
          Cancelar
        </button>
      </mat-card-actions>
    </mat-card>
  </mat-card-content>
</div>
