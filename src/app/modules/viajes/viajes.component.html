<!--CONTENIDO DEL TAB-->
<mat-card-actions fxLayout="row" fxLayoutAlign="end center" style="margin-right: 10px">
    <button mat-raised-button (click)="adicionar()" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center" fxFlex=22 class="botonesdesign">
        <mat-icon>person_add</mat-icon>
        {{etiquetas.Adicionar}}
    </button>
</mat-card-actions>


<mat-progress-bar mode="indeterminate" *ngIf="IsWait"></mat-progress-bar>

<mat-card-content class="dashboard-card-content contentprincipal" *ngIf="lShowPanelDatosViaje">
    <mat-card-header>
        <mat-card-title>
            {{etiquetas.AdministraciondeViajes}}
        </mat-card-title>
    </mat-card-header>
    <form [formGroup]="viajeForm" autocomplete="off" novalidate>
        <mat-card class="cardcontent">
            <mat-card-title fxLayoutAlign="center">
                <label>{{etiquetas.DatosBasicos}}</label>
            </mat-card-title>
            <mat-card-content fxLayout="column" fxLayoutAlign="center stretch">
                <img src="{{actualItemUrl}}" alt="viaje" class="avatarOwn"  height="180" width="180" *ngIf="actualItemUrl">
                    <div *ngIf="false">
                        <mat-form-field>
                            <input matInput formControlName="id" id="id" placeholder="id">
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput formControlName="capitan_barco" id="capitan_barco" placeholder="capitan_barco">
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput formControlName="USUARIO_ID" id="USUARIO_ID" placeholder="USUARIO_ID">
                        </mat-form-field>

                        <mat-form-field>
                            <input matInput formControlName="urlFoto" id="urlFoto" placeholder="urlFoto">
                        </mat-form-field>
                    </div>

                    <div class="upload-btn-wrapper">
                        <button mat-raised-button class="botonesdesign" style="cursor:pointer;">{{etiquetas.CargarImagen}}</button>
                        <input type="file" (change)="selectFile($event)" id="imagen" style="margin-top: 10px; size: 3px; margin-bottom: 40px;">
                    </div>

                    <mat-form-field style="margin:40px;">
                        <mat-label>Seleccione una Embarcacion</mat-label>
                        <mat-select [(value)]="selected" formControlName="embarcacion_id" id="embarcacion_id">
                            <mat-option *ngFor="let embarcacion of listadoEmbarcaciones" [value]="embarcacion.id">
                                {{embarcacion.embarcacion_nombre}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Origen}}</mat-label>
                        <input matInput formControlName="origen" id="origen" placeholder="{{etiquetas.Origen}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Puerto}}</mat-label>
                        <input matInput formControlName="puertoMarina" id="puertoMarina" placeholder="{{etiquetas.Puerto}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Destino}}</mat-label>
                        <input matInput formControlName="destino" id="destino" placeholder="{{etiquetas.Destino}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Experiencia}}</mat-label>
                        <input matInput formControlName="experiencia" id="experiencia" placeholder="{{etiquetas.Experiencia}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Precio}}</mat-label>
                        <input matInput formControlName="precio" id="precio" placeholder="{{etiquetas.Precio}}" required>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Detalledelprecio}}</mat-label>
                        <input matInput formControlName="preciodesc" id="preciodesc" placeholder="{{etiquetas.Detalledelprecio}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Incluye}}</mat-label>
                        <input matInput formControlName="incluye" id="incluye" placeholder="{{etiquetas.Incluye}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Numerodedias}}</mat-label>
                        <input matInput formControlName="numeroDias" id="numeroDias" placeholder="{{etiquetas.Numerodedias}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>{{etiquetas.Numerodepasajeros}}</mat-label>
                        <input matInput formControlName="numeroPasajeros" id="numeroPasajeros" placeholder="{{etiquetas.Numerodepasajeros}}" required>
                    </mat-form-field>

            </mat-card-content>
            <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
                <button mat-raised-button (click)="callAdd()" [disabled]="!viajeForm.valid" *ngIf="lShowBtnAdicionar" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center" fxFlex=80 class="botonesdesign">
                    <mat-icon>person_add</mat-icon>
                    {{etiquetas.Adicionar}}
                </button>
                <button mat-raised-button fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center" fxFlex=80 (click)="callUploadService()" *ngIf="lShowBtnActualizar" class="botonesdesign">
                    <mat-icon>mode_edit</mat-icon>
                    {{etiquetas.Actualizar}}
                </button>
                <button mat-raised-button fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center" fxFlex=80 (click)="callEliminar(viajeForm.value)" *ngIf="lShowBtnEliminar" class="botonesdesign">
                    <mat-icon>more_vert</mat-icon> {{etiquetas.Eliminar}}
                </button>
                <button mat-raised-button (click)="callCancelar()" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center" fxFlex=80 class="botonesdesign">
                    <mat-icon>cancel</mat-icon>
                    {{etiquetas.Cancelar}}
                </button>
            </mat-card-actions>
        </mat-card>
    </form>
</mat-card-content>


<!--CARD: LISTADO DE USUARIOS-->
<mat-card-content class="dashboard-card-content" *ngIf="lShowPanelListadoViajes">
    <mat-card>
        <mat-card-title fxLayoutAlign="center">
            <label>{{etiquetas.FiltrarViajes}}</label>
        </mat-card-title>
        <mat-card-content fxLayout="row" fxLayoutAlign="space-around center">
            <mat-form-field fxFlex=40>
                <input matInput id="filterbyNombre" placeholder="Buscar por destino" [(ngModel)]="findByItem.destino" (keyup)="findBy()">
            </mat-form-field>
        </mat-card-content>
    </mat-card>

    <mat-grid-list cols="3" rowHeight="320px">
        <mat-grid-tile *ngFor="let viaje of ViajesResponse.data">
            <mat-card class="dashboard-card" (click)="actualizar(viaje)">
                <img mat-card-image src="{{serverURlImagesViajes}}{{viaje.urlFoto}}" alt="viaje" height="150px;" class="cssForCrudListImg">
                <mat-card-content class="dashboard-card-content">
                    <div>{{etiquetas.Origen}}: {{viaje.origen}}</div>
                    <br>
                    <h5>{{etiquetas.Destino}}: {{viaje.destino}}</h5>
                </mat-card-content>
            </mat-card>
        </mat-grid-tile>
    </mat-grid-list>
</mat-card-content>